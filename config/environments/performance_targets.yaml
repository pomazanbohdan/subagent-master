# Performance Targets Configuration
# Comprehensive performance targets and KPI definitions

# Global performance targets
global_targets:
  availability:
    target: 99.9
    sla: 99.5
    measurement_window: "30d"

  response_time:
    p50_target: "<200ms"
    p95_target: "<500ms"
    p99_target: "<1s"

  throughput:
    target: "1000 req/min"
    peak_capacity: "5000 req/min"

  error_rate:
    target: "<0.1%"
    critical_threshold: "1%"

# Environment-specific targets
environments:
  development:
    availability:
      target: 95.0
      sla: 90.0
      measurement_window: "24h"

    response_time:
      p50_target: "<500ms"
      p95_target: "<1s"
      p99_target: "<2s"

    throughput:
      target: "100 req/min"
      peak_capacity: "500 req/min"

    error_rate:
      target: "<1%"
      critical_threshold: "5%"

    resource_usage:
      memory_warning: 80
      cpu_warning: 80
      disk_warning: 90

    debugging:
      stack_traces: true
      detailed_logging: true
      profiling: true

  production:
    availability:
      target: 99.9
      sla: 99.5
      measurement_window: "30d"

    response_time:
      p50_target: "<100ms"
      p95_target: "<250ms"
      p99_target: "<500ms"

    throughput:
      target: "5000 req/min"
      peak_capacity: "20000 req/min"

    error_rate:
      target: "<0.01%"
      critical_threshold: "0.1%"

    resource_usage:
      memory_warning: 85
      cpu_warning: 85
      disk_warning: 80

    security:
      rate_limiting: true
      monitoring: comprehensive
      audit_logging: true

  testing:
    availability:
      target: 98.0
      sla: 95.0
      measurement_window: "1h"

    response_time:
      p50_target: "<1s"
      p95_target: "<2s"
      p99_target: "<5s"

    throughput:
      target: "50 req/min"
      peak_capacity: "200 req/min"

    error_rate:
      target: "<2%"
      critical_threshold: "10%"

    resource_usage:
      memory_warning: 70
      cpu_warning: 70
      disk_warning: 80

    test_coverage:
      unit_test_coverage: 80
      integration_test_coverage: 70
      e2e_test_coverage: 60

# Application-specific targets
application_targets:
  web_api:
    endpoints:
      "/api/users":
        response_time_p95: "<200ms"
        throughput: "100 req/min"

      "/api/orders":
        response_time_p95: "<500ms"
        throughput: "50 req/min"

      "/api/reports":
        response_time_p95: "<2s"
        throughput: "10 req/min"

    authentication:
      login_time: "<500ms"
      token_validation: "<50ms"

    data_processing:
      batch_size: 1000
      processing_time: "<10s"

  background_jobs:
    email_service:
      queue_size: "<1000"
      processing_time: "<5s"
      retry_attempts: 3

    data_sync:
      sync_interval: "5min"
      completion_time: "<2min"
      error_threshold: "5%"

    cleanup_jobs:
      execution_time: "<30min"
      resource_usage: "<20%"

# Performance monitoring
monitoring:
  metrics_collection:
    interval: 30
    retention_days: 90
    aggregation_intervals: [1, 5, 15, 60]

  key_metrics:
    response_time:
      percentiles: [50, 75, 90, 95, 99]
      histogram_buckets: [10, 25, 50, 100, 250, 500, 1000, 2500]

    throughput:
      measurement_window: 60
      units: "requests_per_minute"

    error_rate:
      measurement_window: 300
      error_types: ["4xx", "5xx", "timeout"]

    resource_usage:
      metrics: ["cpu", "memory", "disk", "network"]
      collection_interval: 15

# Performance alerts
alerts:
  response_time:
    warning:
      threshold: "p95 > 500ms"
      duration: "5min"
      severity: "warning"

    critical:
      threshold: "p95 > 1s"
      duration: "2min"
      severity: "critical"

  error_rate:
    warning:
      threshold: "error_rate > 0.5%"
      duration: "5min"
      severity: "warning"

    critical:
      threshold: "error_rate > 1%"
      duration: "1min"
      severity: "critical"

  availability:
    warning:
      threshold: "availability < 99%"
      duration: "10min"
      severity: "warning"

    critical:
      threshold: "availability < 95%"
      duration: "5min"
      severity: "critical"

  resource_usage:
    warning:
      threshold: "cpu > 80% OR memory > 85%"
      duration: "10min"
      severity: "warning"

    critical:
      threshold: "cpu > 90% OR memory > 95%"
      duration: "5min"
      severity: "critical"

# Performance benchmarks
benchmarks:
  load_testing:
    scenarios:
      normal_load:
        concurrent_users: 100
        duration: "10min"
        ramp_up: "2min"

      peak_load:
        concurrent_users: 500
        duration: "5min"
        ramp_up: "1min"

      stress_test:
        concurrent_users: 1000
        duration: "2min"
        ramp_up: "30s"

    targets:
      average_response_time: "<300ms"
      error_rate: "<0.1%"
      throughput: ">500 req/min"

# Performance optimization
optimization:
  caching:
    hit_ratio_target: 90
    ttl_optimization: true
    cache_warming: true

  database:
    query_time_p95: "<100ms"
    connection_pool_usage: "<80%"
    index_usage_ratio: 95

  cdn:
    cache_hit_ratio: 95
    ttl_optimization: true
    geographic_distribution: true

# Performance regression testing
regression_testing:
  enabled: true
  baseline_comparison: true
  regression_threshold: 10

  test_scenarios:
    - "api_response_times"
    - "database_query_performance"
    - "memory_usage_patterns"
    - "cpu_efficiency"

  reporting:
    format: "html"
    include_charts: true
    trend_analysis: true

# Performance budgeting
budget:
  enabled: false  # Enable for cost-sensitive environments

  limits:
    cpu_cores: 16
    memory_gb: 64
    storage_gb: 1000
    network_bandwidth_mbps: 1000

  cost_performance:
    target_ratio: 100  # requests per dollar
    monitoring_interval: "1h"

# Performance reporting
reporting:
  daily_summary:
    enabled: true
    recipients: ["dev-team"]
    include_charts: true

  weekly_analysis:
    enabled: true
    recipients: ["management", "dev-team"]
    include_trends: true
    include_recommendations: true

  monthly_review:
    enabled: true
    recipients: ["stakeholders"]
    comprehensive_analysis: true
    future_projections: true
# Production Environment Configuration
# Optimized for stability, performance, and reliability in production deployment

metadata:
  name: "production-environment"
  version: "1.0.0"
  description: "Production environment configuration optimized for stability and performance"
  environment_type: "production"
  author: "Master Agent System v3.5.0"

# Environment Characteristics
environment_characteristics:
  primary_goals:
    - "stability_and_reliability"
    - "performance_optimization"
    - "security_enforcement"
    - "scalability"
    - "operational_excellence"
    
  operational_mode: "conservative_stable"
  stability_priority: "critical"
  performance_priority: "critical"
  security_priority: "critical"
  
  behavioral_patterns:
    error_handling: "strict_with_minimal_logging"
    retry_logic: "conservative_retry_circuit_breaker"
    timeout_handling: "strict_timeouts"
    resource_usage: "optimized_limits"

# Resource Configuration
resource_configuration:
  computational_resources:
    cpu_allocation:
      max_cores: "auto_detect"
      priority: "high"
      burst_allowance: 1.2
      
    memory_allocation:
      max_memory: "auto_detect"
      cache_size: "optimized"
      gc_aggressiveness: "high"
      
    disk_allocation:
      temp_directory: "/tmp/master_agent_prod"
      max_temp_size: "2GB"
      cleanup_policy: "hourly"
      
  network_resources:
    connection_limits:
      max_concurrent_connections: 20
      connection_timeout: 10
      read_timeout: 30
      
    rate_limiting:
      enabled: true
      api_calls_per_minute: 100
      
  concurrency_settings:
    max_parallel_tasks: 5
    max_concurrent_agents: 3
    task_queue_size: 20
    thread_pool_size: "optimized"

# Performance Targets
performance_targets:
  response_time_targets:
    simple_tasks: "< 2 seconds"
    complex_tasks: "< 15 seconds"
    very_complex_tasks: "< 60 seconds"
    
  accuracy_targets:
    task_completion_accuracy: "> 0.95"
    classification_accuracy: "> 0.90"
    estimation_accuracy: "> 0.85"
    
  reliability_targets:
    system_availability: "> 0.999"
    error_recovery_rate: "> 0.95"
    graceful_degradation: "enabled"
    
  efficiency_targets:
    resource_utilization: "> 0.80"
    task_throughput: "optimized_based_on_capacity"
    learning_efficiency: "> 0.90"

# Behavioral Configuration
behavioral_configuration:
  error_handling:
    strategy: "production_ready"
    detailed_error_messages: false
    stack_trace_inclusion: false
    error_recovery_attempts: 3
    
  logging_configuration:
    log_level: "WARN"
    structured_logging: true
    log_rotation: true
    log_format: "structured_with_correlation_id"
    
    log_destinations:
      - "file:logs/master_agent_prod.log"
      - "monitoring_system"
      - "security_audit"
      
    log_categories:
      system_operations: "WARN"
      agent_communication: "ERROR"
      mcp_interactions: "WARN"
      learning_activities: "INFO"
      performance_metrics: "INFO"
      security_events: "ERROR"
      
  production_features:
    enabled: true
    features:
      - "circuit_breaker_patterns"
      - "health_check_endpoints"
      - "metrics_collection"
      - "distributed_tracing"
      
  experimental_features:
    enabled: false
    disabled_features:
      - "beta_functionality"
      - "debugging_tools"
      - "verbose_logging"
      - "experimental_algorithms"

# Production-Specific Settings
production_settings:
  deployment_configuration:
    rolling_updates: true
    health_checks: true
    graceful_shutdown: true
    zero_downtime_deployment: true
    
  monitoring_integration:
    enabled: true
    prometheus_metrics: true
    distributed_tracing: true
    log_aggregation: true
    
  security_enforcement:
    authentication_required: true
    authorization_enforced: true
    encryption_enabled: true
    audit_logging: true

# Adaptation Strategies
adaptation_strategies:
  performance_adaptation:
    enabled: true
    adaptation_frequency: "periodic"
    adaptation_triggers:
      - "performance_degradation_detected"
      - "resource_pressure_detected"
      - "error_rate_increase"
      
    optimization_targets:
      - "stability_first"
      - "performance_optimization"
      - "resource_efficiency"
      
  resource_adaptation:
    enabled: true
    conservative_mode: true
    adaptation_triggers:
      - "memory_usage_above_85_percent"
      - "cpu_usage_above_95_percent"
      - "disk_space_below_10_percent"
      
    adaptation_actions:
      - "reduce_cache_sizes"
      - "enable_circuit_breakers"
      - "scale_down_resources"
      - "prioritize_critical_tasks"

# Monitoring and Observability
monitoring_configuration:
  metrics_collection:
    enabled: true
    collection_interval: 60  # seconds
    
    metrics_tracked:
      system_metrics:
        - "cpu_usage"
        - "memory_usage"
        - "disk_usage"
        - "network_io"
        
      application_metrics:
        - "request_duration"
        - "error_rate"
        - "throughput"
        - "agent_performance"
        
      business_metrics:
        - "task_success_rate"
        - "user_satisfaction"
        - "system_reliability"
        
  alerting:
    enabled: true
    alert_thresholds:
      error_rate: "> 5%"
      memory_usage: "> 85%"
      task_failure: "> 10%"
      mcp_unavailability: "> 15%"
      response_time: "> 100th_percentile_threshold"
      
    notification_channels:
      - "monitoring_system"
      - "alert_manager"
      - "operations_team"
      - "incident_response"

# Integration Configuration
integration_settings:
  mcp_server_preferences:
    priority_order:
      - "sequential-thinking"
      - "serena"
      - "context7"
      - "tavily"
      - "magic"
      - "playwright"
      
    connection_settings:
      timeout_multiplier: 1.0
      retry_attempts: 3
      circuit_breaker_enabled: true
      fallback_enabled: true
      
  agent_behavior:
    default_timeout: 30  # seconds
    max_execution_time: 120  # seconds
    retry_delay: 2  # seconds
    
    learning_behavior:
      exploration_rate: 0.05
      learning_rate: 0.05
      feedback_weight: 0.8

# Security Configuration (Production)
security_configuration:
  authentication:
    enabled: true
    methods:
      - "jwt_token"
      - "api_key"
      - "mutual_tls"
      
    jwt_config:
      secret_source: "environment_variable"
      algorithm: "RS256"
      expiration: 3600  # seconds
      
  authorization:
    enabled: true
    access_control:
      read_access: ["authenticated_users", "system"]
      write_access: ["authorized_users", "system"]
      admin_access: ["administrators", "system"]
      
  encryption:
    transit_encryption: true
    rest_encryption: true
    key_rotation: true
    
  audit_logging:
    enabled: true
    log_all_access: true
    log_modifications: true
    retention_period: "90_days"

# Quality Assurance
quality_assurance:
  validation:
    strict_validation: true
    permissive_mode: false
    detailed_error_reporting: false
    
  testing:
    auto_validation: false
    integration_tests: true
    performance_tests: true
    security_tests: true
    
  code_quality:
    strict_mode: true
    warning_level: "strict"
    optimization_enabled: true

# High Availability Configuration
high_availability:
  failover:
    enabled: true
    automatic_failover: true
    health_check_interval: 30  # seconds
    
  load_balancing:
    enabled: true
    algorithm: "least_connections"
    health_check: true
    
  disaster_recovery:
    enabled: true
    backup_frequency: "hourly"
    recovery_time_objective: "15_minutes"
    recovery_point_objective: "5_minutes"

# Scalability Configuration
scalability:
  auto_scaling:
    enabled: true
    scale_up_threshold: "cpu_usage > 80%"
    scale_down_threshold: "cpu_usage < 30%"
    min_instances: 2
    max_instances: 10
    
  resource_limits:
    max_memory_per_instance: "4GB"
    max_cpu_per_instance: "2_cores"
    max_concurrent_tasks_per_instance: 10

# Environment Detection
environment_detection:
  indicators:
    file_based:
      - "production.env exists"
      - "Dockerfile.prod exists"
      - "k8s/production.yaml exists"
      - "no development files present"
      
    environment_variable_based:
      - "NODE_ENV=production"
      - "FLASK_ENV=production"
      - "PRODUCTION_MODE=true"
      - "DEBUG=false"
      
    system_based:
      - "running_in_production_directory"
      - "production_ports_open"
      - "monitoring_agents_active"
      
  detection_confidence_threshold: 0.9
  auto_switch: true
  confirmation_required: false

# Performance Optimization (Production)
performance_optimization:
  caching:
    enabled: true
    aggressive_caching: false
    cache_size: "optimized"
    cache_ttl: "based_on_content_type"
    
  parallel_processing:
    enabled: true
    max_parallelism: "controlled"
    load_balancing: "performance_based"
    
  resource_management:
    optimistic_allocation: false
    generous_limits: false
    proactive_scaling: true

# Backup and Recovery
backup_configuration:
  automatic_backup: true
  backup_frequency: "hourly"
  backup_retention: "30_days"
  offsite_backup: true
  
  recovery_procedures:
    configuration_recovery: true
    state_recovery: true
    quick_recovery: true
    disaster_recovery: true

# Production Operations
operations_configuration:
  maintenance_windows:
    enabled: true
    default_window: "02:00-04:00 UTC"
    emergency_maintenance: true
    
  deployment_procedures:
    blue_green_deployment: true
    canary_releases: true
    rollback_procedures: true
    
  incident_management:
    incident_response_team: true
    escalation_procedures: true
    post_mortem_analysis: true

# Compliance and Governance
compliance:
  audit_logging:
    enabled: true
    log_all_actions: true
    retention_policy: "7_years"
    
  data_protection:
    gdpr_compliance: true
    data_encryption: true
    access_controls: true
    
  change_management:
    change_approval_process: true
    change_logging: true
    rollback_capability: true